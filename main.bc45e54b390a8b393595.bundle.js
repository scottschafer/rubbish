webpackJsonp([1],{"/fcW":function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="/fcW"},0:function(t,e,n){t.exports=n("x35b")},"1A80":function(t,e,n){"use strict";function r(t){return u._11(0,[(t()(),u._12(0,null,null,5,"li",[],null,null,null,null,null)),(t()(),u._13(null,["\n    Name: "])),(t()(),u._12(0,null,null,0,"input",[],[[8,"value",0]],[[null,"blur"]],function(t,e,n){var r=!0,i=t.component;if("blur"===e){r=!1!==i.onChangeProperty(t.context.$implicit,"name",n.target.value)&&r}return r},null,null)),(t()(),u._13(null,["\n    Sprockets: "])),(t()(),u._12(0,null,null,0,"input",[["type","number"]],[[8,"value",0]],[[null,"blur"]],function(t,e,n){var r=!0,i=t.component;if("blur"===e){r=!1!==i.onChangeProperty(t.context.$implicit,"sprockets",n.target.value)&&r}return r},null,null)),(t()(),u._13(null,["\n  "]))],null,function(t,e){t(e,2,0,e.context.$implicit.name),t(e,4,0,e.context.$implicit.sprockets)})}function i(t){return u._11(0,[(t()(),u._12(0,null,null,5,"div",[],null,null,null,null,null)),(t()(),u._13(null,["\n    "])),(t()(),u._12(0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),u._13(null,["#",""])),(t()(),u._13(null,["\n    ","\n  "])),u._14(0,s.f,[])],null,function(t,e){t(e,3,0,e.context.index),t(e,4,0,u._15(e,4,0,u._16(e,5).transform(e.context.$implicit)))})}function l(t){return u._11(0,[(t()(),u._12(0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),u._13(null,[" Gizmos! "])),(t()(),u._13(null,["\n\n"])),(t()(),u._12(0,null,null,4,"ul",[],null,null,null,null,null)),(t()(),u._13(null,["\n  "])),(t()(),u._17(16777216,null,null,1,null,r)),u._18(802816,null,0,s.g,[u._1,u._2,u.t],{ngForOf:[0,"ngForOf"]},null),(t()(),u._13(null,["\n"])),(t()(),u._13(null,["\n\n"])),(t()(),u._12(0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;if("click"===e){r=!1!==i.addItem()&&r}return r},null,null)),(t()(),u._13(null,["Add Item"])),(t()(),u._12(0,null,null,0,"br",[],null,null,null,null,null)),(t()(),u._13(null,["\n"])),(t()(),u._12(0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;if("click"===e){r=!1!==i.undo()&&r}return r},null,null)),(t()(),u._13(null,["Undo"])),(t()(),u._12(0,null,null,0,"br",[],null,null,null,null,null)),(t()(),u._13(null,["\n\n"])),(t()(),u._12(0,null,null,11,"div",[],null,null,null,null,null)),(t()(),u._13(null,["\n  "])),(t()(),u._12(0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),u._13(null,["Data model:"])),(t()(),u._13(null,["\n  ","\n\n  "])),u._14(0,s.f,[]),(t()(),u._12(0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),u._13(null,["History:"])),(t()(),u._13(null,["\n  "])),(t()(),u._17(16777216,null,null,1,null,i)),u._18(802816,null,0,s.g,[u._1,u._2,u.t],{ngForOf:[0,"ngForOf"]},null),(t()(),u._13(null,["\n"])),(t()(),u._13(null,["\n"]))],function(t,e){var n=e.component;t(e,6,0,n.model.gizmos.items),t(e,27,0,n.history)},function(t,e){var n=e.component;t(e,21,0,u._15(e,21,0,u._16(e,22).transform(n.model)))})}function o(t){return u._11(0,[(t()(),u._12(0,null,null,1,"app-root",[],null,null,null,l,h)),u._18(49152,null,0,a.a,[c.a],null,null)],null,null)}var _=n("Ni5f"),u=n("3j3K"),s=n("2Je8"),a=n("YWx4"),c=n("T05t");n.d(e,"a",function(){return f});var p=[_.a],h=u._10({encapsulation:0,styles:p,data:{}}),f=u._19("app-root",a.a,o,{},{},[])},"8C2a":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){function t(t,e){this.parent=t,this.key=e}return t}(),i=function(){function t(t){this._history=new Array,this.objToParent=new Map,this._appState=Object.assign({},t),this.setParents(this._appState)}return Object.defineProperty(t.prototype,"appState",{get:function(){return this._appState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),t.prototype.updateModel=function(t){for(var e in t)this._appState[e]=t[e]},t.prototype.add=function(t,e){var n=this.objToParent.get(t);if(!n)throw"crap";this.pushHistory();var r=n.parent[n.key];n.parent[n.key]=r.concat([e]),this.setParents(n.parent)},t.prototype.set=function(t,e,n){var r=this.objToParent.get(t);if(!r)throw"crap";var i=(r.parent[r.key],Object.assign({},r.parent[r.key]));i[e]=n,this.pushHistory(),r.parent[r.key]=i,this.setParents(r.parent)},t.prototype.addToSnapshot=function(t,e){for(var n in t)"object"==typeof t[n]?(Array.isArray(t[n])?e[n]=[]:e[n]={},this.addToSnapshot(t[n],e[n])):e[n]=t[n]},t.prototype.copySnapshot=function(t,e){for(var n in t)e[n]=t[n],"object"==typeof t[n]&&this.copySnapshot(t[n],e[n])},t.prototype.pushHistory=function(){var t={};this.addToSnapshot(this._appState,t),this._history.push(t)},t.prototype.popHistory=function(){if(this._history.length){var t=this._history.shift();this.copySnapshot(t,this._appState),this.objToParent.clear(),this.setParents(this._appState)}},t.prototype.setParents=function(t){if("object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&"object"==typeof t[e]&&(this.objToParent.set(t[e],new r(t,e)),this.setParents(t[e]))},t}()},Iksp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t}()},Ni5f:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=[""]},T05t:function(t,e,n){"use strict";var r=n("yISA"),i=n("8C2a");n.d(e,"a",function(){return o});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(){return t.call(this,r.a)||this}return l(e,t),e.ctorParameters=function(){return[]},e}(i.a)},YWx4:function(t,e,n){"use strict";var r=n("T05t");n.d(e,"a",function(){return i});var i=function(){function t(t){this.modelService=t,this.model=t.appState,this.history=t.history}return t.prototype.addItem=function(){this.modelService.add(this.model.gizmos.items,{name:"Untitled",sprockets:0})},t.prototype.onChangeProperty=function(t,e,n){this.modelService.set(t,e,n)},t.prototype.undo=function(){this.modelService.popHistory()},t.ctorParameters=function(){return[{type:r.a}]},t}()},kZql:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},kke6:function(t,e,n){"use strict";var r=n("3j3K"),i=n("Iksp"),l=n("2Je8"),o=n("Qbdm"),_=n("T05t"),u=n("1A80");n.d(e,"a",function(){return c});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){return t.call(this,e,[u.a],[u.a])||this}return s(e,t),Object.defineProperty(e.prototype,"_LOCALE_ID_9",{get:function(){return null==this.__LOCALE_ID_9&&(this.__LOCALE_ID_9=r.b(this.parent.get(r.c,null))),this.__LOCALE_ID_9},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_10",{get:function(){return null==this.__NgLocalization_10&&(this.__NgLocalization_10=new l.a(this._LOCALE_ID_9)),this.__NgLocalization_10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Compiler_11",{get:function(){return null==this.__Compiler_11&&(this.__Compiler_11=new r.d),this.__Compiler_11},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_APP_ID_12",{get:function(){return null==this.__APP_ID_12&&(this.__APP_ID_12=r.e()),this.__APP_ID_12},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_IterableDiffers_13",{get:function(){return null==this.__IterableDiffers_13&&(this.__IterableDiffers_13=r.f()),this.__IterableDiffers_13},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_KeyValueDiffers_14",{get:function(){return null==this.__KeyValueDiffers_14&&(this.__KeyValueDiffers_14=r.g()),this.__KeyValueDiffers_14},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_DomSanitizer_15",{get:function(){return null==this.__DomSanitizer_15&&(this.__DomSanitizer_15=new o.b(this.parent.get(o.c))),this.__DomSanitizer_15},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Sanitizer_16",{get:function(){return null==this.__Sanitizer_16&&(this.__Sanitizer_16=this._DomSanitizer_15),this.__Sanitizer_16},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_HAMMER_GESTURE_CONFIG_17",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_17&&(this.__HAMMER_GESTURE_CONFIG_17=new o.d),this.__HAMMER_GESTURE_CONFIG_17},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EVENT_MANAGER_PLUGINS_18",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_18&&(this.__EVENT_MANAGER_PLUGINS_18=[new o.e(this.parent.get(o.c)),new o.f(this.parent.get(o.c)),new o.g(this.parent.get(o.c),this._HAMMER_GESTURE_CONFIG_17)]),this.__EVENT_MANAGER_PLUGINS_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_EventManager_19",{get:function(){return null==this.__EventManager_19&&(this.__EventManager_19=new o.h(this._EVENT_MANAGER_PLUGINS_18,this.parent.get(r.h))),this.__EventManager_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomSharedStylesHost_20",{get:function(){return null==this.__ɵDomSharedStylesHost_20&&(this.__ɵDomSharedStylesHost_20=new o.i(this.parent.get(o.c))),this.__ɵDomSharedStylesHost_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵDomRendererFactory2_21",{get:function(){return null==this.__ɵDomRendererFactory2_21&&(this.__ɵDomRendererFactory2_21=new o.j(this._EventManager_19,this._ɵDomSharedStylesHost_20)),this.__ɵDomRendererFactory2_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RendererFactory2_22",{get:function(){return null==this.__RendererFactory2_22&&(this.__RendererFactory2_22=this._ɵDomRendererFactory2_21),this.__RendererFactory2_22},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ɵSharedStylesHost_23",{get:function(){return null==this.__ɵSharedStylesHost_23&&(this.__ɵSharedStylesHost_23=this._ɵDomSharedStylesHost_20),this.__ɵSharedStylesHost_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Testability_24",{get:function(){return null==this.__Testability_24&&(this.__Testability_24=new r.i(this.parent.get(r.h))),this.__Testability_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Meta_25",{get:function(){return null==this.__Meta_25&&(this.__Meta_25=new o.k(this.parent.get(o.c))),this.__Meta_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Title_26",{get:function(){return null==this.__Title_26&&(this.__Title_26=new o.l(this.parent.get(o.c))),this.__Title_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ExampleModelService_27",{get:function(){return null==this.__ExampleModelService_27&&(this.__ExampleModelService_27=new _.a),this.__ExampleModelService_27},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new l.b,this._ErrorHandler_1=o.m(),this._APP_INITIALIZER_2=[r.j,o.n(this.parent.get(o.o,null),this.parent.get(r.k,null))],this._ApplicationInitStatus_3=new r.l(this._APP_INITIALIZER_2),this._ɵf_4=new r.m(this.parent.get(r.h),this.parent.get(r.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new r.o(this._ApplicationRef_5),this._BrowserModule_7=new o.p(this.parent.get(o.p,null)),this._AppModule_8=new i.a,this._AppModule_8},e.prototype.getInternal=function(t,e){return t===l.b?this._CommonModule_0:t===r.p?this._ErrorHandler_1:t===r.q?this._APP_INITIALIZER_2:t===r.l?this._ApplicationInitStatus_3:t===r.m?this._ɵf_4:t===r.r?this._ApplicationRef_5:t===r.o?this._ApplicationModule_6:t===o.p?this._BrowserModule_7:t===i.a?this._AppModule_8:t===r.c?this._LOCALE_ID_9:t===l.c?this._NgLocalization_10:t===r.d?this._Compiler_11:t===r.s?this._APP_ID_12:t===r.t?this._IterableDiffers_13:t===r.u?this._KeyValueDiffers_14:t===o.q?this._DomSanitizer_15:t===r.v?this._Sanitizer_16:t===o.r?this._HAMMER_GESTURE_CONFIG_17:t===o.s?this._EVENT_MANAGER_PLUGINS_18:t===o.h?this._EventManager_19:t===o.i?this._ɵDomSharedStylesHost_20:t===o.j?this._ɵDomRendererFactory2_21:t===r.w?this._RendererFactory2_22:t===o.t?this._ɵSharedStylesHost_23:t===r.i?this._Testability_24:t===o.k?this._Meta_25:t===o.l?this._Title_26:t===_.a?this._ExampleModelService_27:e},e.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_20&&this._ɵDomSharedStylesHost_20.ngOnDestroy()},e}(r.x),c=new r.y(a,i.a)},x35b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("3j3K"),i=n("kZql"),l=n("Qbdm"),o=n("kke6");i.a.production&&n.i(r.a)(),n.i(l.a)().bootstrapModuleFactory(o.a)},yISA:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={userName:"Initial value",gizmos:{loading:!1,items:[{name:"gadget",sprockets:5},{name:"widget",sprockets:8}]}}}},[0]);